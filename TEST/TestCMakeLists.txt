cmake_minimum_required(VERSION 3.15)

# Specifica i file sorgenti nella cartella TEST
set(TEST_SOURCES
    avatar.cpp
    main.cpp
)

# Includi la directory TEST per i file header
include_directories(${CMAKE_CURRENT_SOURCE_DIR})

# Crea una libreria statica da TEST
add_library(TESTLib STATIC ${TEST_SOURCES})

# Trova le librerie SFML e CSFML per la subdirectory TEST
find_package(SFML 2.5 COMPONENTS system window graphics audio REQUIRED)
find_path(CSFML_INCLUDE_DIRS csfml-audio/csfml-audio.h)
find_library(CSFML_AUDIO_LIBRARY NAMES csfml-audio)

if (CSFML_INCLUDE_DIRS AND CSFML_AUDIO_LIBRARY)
    message(STATUS "CSFML found in TEST")
else()
    message(FATAL_ERROR "CSFML not found in TEST")
endif()

include_directories(${CSFML_INCLUDE_DIRS})

# Linka SFML e CSFML alla libreria TESTLib
target_link_libraries(TESTLib sfml-system sfml-window sfml-graphics sfml-audio ${CSFML_AUDIO_LIBRARY})
